<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Safalta Express | The Legacy of Begusarai</title>
    
    <meta name="theme-color" content="#000000">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=Orbitron:wght@500;700;900&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        :root { --neon-blue: #00f3ff; --neon-purple: #bc13fe; --gold: #ffd700; --void: #050505; }
        body { background-color: var(--void); font-family: 'Outfit', sans-serif; color: white; overflow-x: hidden; }
        .font-cyber { font-family: 'Orbitron', sans-serif; }
        .glass-morphism { background: rgba(255, 255, 255, 0.02); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.05); }
        .neon-glow { text-shadow: 0 0 15px rgba(0, 243, 255, 0.6); }
        .strike-red { text-decoration: line-through; text-decoration-color: #ef4444; text-decoration-thickness: 3px; }
        .portal-line { height: 2px; background: linear-gradient(90deg, transparent, var(--neon-blue), transparent); box-shadow: 0 0 20px var(--neon-blue); width: 100%; }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .animate-pulse-slow { animation: pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        .beast-btn { background: linear-gradient(45deg, #2563eb, #9333ea); transition: all 0.3s ease; }
        .beast-btn:hover { transform: scale(1.05); box-shadow: 0 0 30px rgba(37, 99, 235, 0.5); }
        #root { min-height: 100vh; }
        .loader { border: 4px solid #333; border-top: 4px solid var(--neon-blue); border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 0 auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>

    <script type="importmap">
        {
            "imports": {
                "react": "https://esm.sh/react@18.2.0",
                "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
                "lucide-react": "https://esm.sh/lucide-react@0.344.0?external=react",
                "firebase/app": "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js",
                "firebase/auth": "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js",
                "firebase/firestore": "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js"
            }
        }
    </script>
</head>
<body>
    <div id="root">
        <div style="height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #00f3ff; font-family: 'Orbitron', sans-serif;">
            <div class="loader"></div>
            <p style="margin-top: 20px; letter-spacing: 2px;">INITIALIZING SYSTEM...</p>
        </div>
    </div>

    <script type="module">
        import React, { useState, useEffect } from 'react';
        import ReactDOM from 'react-dom/client';
        import { 
            Phone, MapPin, Wifi, Zap, ShieldCheck, Utensils, 
            Home, Menu, X, CheckCircle, Smartphone, 
            Send, Coffee, BookOpen, Library, GraduationCap,
            User, Star, Factory, Building2, LogIn, LogOut,
            Brain, MessageSquare, Headphones, Sparkles, Activity
        } from 'lucide-react';
        import { initializeApp } from "firebase/app";
        import { getAuth, signInWithPopup, GoogleAuthProvider, signOut, onAuthStateChanged } from "firebase/auth";
        import { getFirestore, doc, setDoc, collection, onSnapshot, query, orderBy, addDoc, serverTimestamp, limit } from "firebase/firestore";

        // --- HARDCODED CONFIG ---
        const firebaseConfig = {
            apiKey: "AIzaSyBbwul_dbciJX3SQIVFQqXktmCsCghJRHU",
            authDomain: "safalta-express-boys-hostel.firebaseapp.com",
            projectId: "safalta-express-boys-hostel",
            storageBucket: "safalta-express-boys-hostel.firebasestorage.app",
            messagingSenderId: "943963131070",
            appId: "1:943963131070:web:48db2233c27d7ae15562ef"
        };

        const APP_ID = 'safalta-infinite-final';
        const GROQ_KEY = "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";

        // --- SAFE INITIALIZATION ---
        let app, auth, db;
        try {
            app = initializeApp(firebaseConfig);
            auth = getAuth(app);
            db = getFirestore(app);
        } catch (e) {
            console.error("Firebase Init Failed:", e);
        }
        const googleProvider = new GoogleAuthProvider();

        // --- DATA ASSETS ---
        const IMG = {
            hero: "https://images.unsplash.com/photo-1523050854058-8df90110c9f1?q=80&w=2000",
            poha: "https://images.unsplash.com/photo-1595350794711-a83236c58971?w=800",
            roti: "https://images.unsplash.com/photo-1505253716362-afaea1d3d1af?w=800",
            chicken: "https://images.unsplash.com/photo-1610057099443-fde8c4d28557?w=800",
            dal: "https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=800",
            paratha: "https://images.unsplash.com/photo-1626082927389-6cd097cdc6ec?w=800",
            kheer: "https://images.unsplash.com/photo-1589301760014-d929f3979dbc?w=800",
            egg: "https://images.unsplash.com/photo-1504754524776-8f4f37790ca0?w=800",
            kadhi: "https://images.unsplash.com/photo-1603133872871-0c64745addc1?w=800",
            room1: "https://images.unsplash.com/photo-1555854877-bab0e564b8d5?w=800",
            room2: "https://images.unsplash.com/photo-1584622050111-993a426fbf0a?w=800",
            room3: "https://images.unsplash.com/photo-1497366216548-37526070297c?w=800"
        };

        const MENU_DATA = {
            Monday: { b: "Poha, Achar", l: "Chicken/Paneer", d: "Roti-Sabji", img: IMG.poha },
            Tuesday: { b: "Roti-Sabji", l: "Dal-Sabji", d: "Puri-Kheer", img: IMG.kheer },
            Wednesday: { b: "Aloo Paratha", l: "Dal-Sabji", d: "Roti-Sabji", img: IMG.paratha },
            Thursday: { b: "Puri-Rajma", l: "Dal-Bhujiya", d: "Roti-Mix Veg", img: IMG.roti },
            Friday: { b: "Roti-Sabji", l: "Egg/Paneer", d: "Roti-Sabji", img: IMG.egg },
            Saturday: { b: "Roti-Sabji", l: "Khichri-Chokha", d: "Puri-Sewai", img: IMG.dal },
            Sunday: { b: "Sattu Paratha", l: "Kadhi-Chawal", d: "Roti-Bhujiya", img: IMG.kadhi },
        };

        // --- COMPONENTS ---

        const Navbar = ({ user, login, logout }) => React.createElement('nav', { className: "fixed top-0 w-full z-50 glass-morphism px-6 py-4 flex justify-between items-center" },
            React.createElement('div', { className: "flex items-center gap-2 cursor-pointer", onClick: () => window.scrollTo(0,0) },
                React.createElement(GraduationCap, { className: "text-blue-500", size: 28 }),
                React.createElement('div', null,
                    React.createElement('h1', { className: "font-cyber text-xl font-bold leading-none" }, "SAFALTA"),
                    React.createElement('p', { className: "text-[10px] tracking-[0.3em] text-gray-400" }, "EXPRESS")
                )
            ),
            React.createElement('div', { className: "flex gap-4 items-center" },
                !user ? React.createElement('button', { onClick: login, className: "bg-white text-black px-6 py-2 rounded-full text-xs font-bold hover:scale-105 transition" }, "LOGIN") 
                      : React.createElement('button', { onClick: logout, className: "text-red-500" }, React.createElement(LogOut, { size: 20 }))
            )
        );

        const Hero = () => React.createElement('section', { className: "h-screen flex flex-col justify-center items-center text-center relative overflow-hidden" },
            React.createElement('img', { src: IMG.hero, className: "absolute inset-0 w-full h-full object-cover opacity-30 animate-pulse-slow" }),
            React.createElement('div', { className: "absolute inset-0 bg-gradient-to-t from-[#050505] via-transparent" }),
            React.createElement('div', { className: "relative z-10 p-4" },
                React.createElement('div', { className: "inline-block mb-6 px-6 py-2 rounded-full bg-blue-900/30 border border-blue-500/30 text-blue-400 text-[10px] font-bold tracking-[0.4em] uppercase" }, "Ritesh Kumar Presents"),
                React.createElement('h1', { className: "font-cyber text-6xl md:text-8xl mb-6 text-white" }, "STUDY", React.createElement('br'), React.createElement('span', { className: "text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500" }, "ELITE")),
                React.createElement('p', { className: "text-xl text-gray-400 mb-10 max-w-2xl mx-auto" }, "Behind GD College, Begusarai. The ultimate ecosystem for toppers."),
                React.createElement('button', { onClick: () => document.getElementById('booking').scrollIntoView({behavior:'smooth'}), className: "beast-btn px-10 py-4 rounded-2xl font-bold text-white shadow-lg" }, "BOOK SEAT NOW")
            )
        );

        const LegacySection = () => React.createElement('section', { id: "legacy", className: "py-24 px-4 bg-[#050505]" },
            React.createElement('div', { className: "max-w-7xl mx-auto text-center" },
                React.createElement('h2', { className: "font-cyber text-4xl mb-16" }, "LOCATION RADAR"),
                React.createElement('div', { className: "grid md:grid-cols-5 gap-4" },
                    [
                        {n: "GD College", t: "Main Campus", i: GraduationCap},
                        {n: "Kaushal Comm.", t: "Coaching", i: BookOpen},
                        {n: "Trinity Classes", t: "Study Hub", i: Library},
                        {n: "Barauni Hub", t: "Industrial", i: Factory},
                        {n: "Readers Lib", t: "24/7 Books", i: Building2}
                    ].map((s,i) => React.createElement('div', { key: i, className: "glass-morphism p-8 rounded-3xl hover:border-blue-500/50 transition" },
                        React.createElement(s.i, { className: "mx-auto text-blue-500 mb-4", size: 30 }),
                        React.createElement('h3', { className: "font-bold" }, s.n),
                        React.createElement('p', { className: "text-xs text-gray-500 mt-1" }, s.t)
                    ))
                )
            )
        );

        const FoodMenu = () => {
            const [day, setDay] = useState('Monday');
            return React.createElement('section', { id: "menu", className: "py-24 px-4 bg-[#080808]" },
                React.createElement('div', { className: "max-w-7xl mx-auto" },
                    React.createElement('h2', { className: "font-cyber text-4xl text-center mb-12" }, "BRAIN FUEL"),
                    React.createElement('div', { className: "flex gap-2 overflow-x-auto pb-8 justify-center" }, 
                        Object.keys(MENU_DATA).map(d => React.createElement('button', { key: d, onClick: () => setDay(d), className: `px-6 py-2 rounded-full font-bold text-xs ${day === d ? 'bg-yellow-500 text-black' : 'glass-morphism text-gray-400'}` }, d))
                    ),
                    React.createElement('div', { className: "glass-morphism p-8 rounded-[3rem] grid md:grid-cols-2 gap-10 items-center" },
                        React.createElement('img', { src: MENU_DATA[day].img, className: "w-full h-80 object-cover rounded-[2rem] shadow-2xl" }),
                        React.createElement('div', { className: "space-y-6" },
                            ['Breakfast', 'Lunch', 'Dinner'].map(t => React.createElement('div', { key: t, className: "border-b border-white/10 pb-4" },
                                React.createElement('span', { className: "text-gray-500 text-xs uppercase font-bold" }, t),
                                React.createElement('p', { className: "text-xl font-bold" }, MENU_DATA[day][t[0].toLowerCase()])
                            ))
                        )
                    )
                )
            );
        };

        const RoomSection = () => React.createElement('section', { id: "rooms", className: "py-24 px-4 bg-black" },
            React.createElement('div', { className: "max-w-7xl mx-auto" },
                React.createElement('h2', { className: "font-cyber text-4xl text-center mb-16" }, "STUDENT SUITES"),
                React.createElement('div', { className: "grid md:grid-cols-3 gap-8" },
                    [IMG.room1, IMG.room2, IMG.room3].map((src, i) => React.createElement('div', { key: i, className: "h-80 glass-morphism rounded-[3rem] overflow-hidden group" },
                        React.createElement('img', { src, className: "w-full h-full object-cover transition duration-700 group-hover:scale-110 opacity-70 group-hover:opacity-100" })
                    ))
                )
            )
        );

        const BookingSection = () => React.createElement('section', { id: "booking", className: "py-32 px-4 bg-[#080808] relative overflow-hidden" },
            React.createElement('div', { className: "absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-blue-600/10 rounded-full blur-[150px]" }),
            React.createElement('div', { className: "max-w-3xl mx-auto glass-morphism p-12 rounded-[4rem] text-center relative z-10 border border-blue-500/30" },
                React.createElement('div', { className: "absolute top-8 right-8 bg-red-600 text-white text-[10px] font-black px-4 py-1 rounded rotate-12" }, "LIMITED TIME"),
                React.createElement('h2', { className: "font-cyber text-5xl mb-8" }, "ELITE PLAN"),
                
                React.createElement('div', { className: "flex flex-col items-center mb-12" },
                    React.createElement('span', { className: "text-gray-500 text-2xl strike-red font-bold font-mono" }, "â‚¹5500"),
                    React.createElement('span', { className: "text-8xl font-cyber text-white neon-glow tracking-tighter" }, "â‚¹4000"),
                    React.createElement('span', { className: "text-blue-400 text-sm tracking-[0.5em] font-bold uppercase mt-2" }, "Per Month / All Inclusive")
                ),

                React.createElement('div', { className: "grid grid-cols-2 gap-4 max-w-md mx-auto mb-10 text-left" },
                    ["3-Time Meals", "24/7 Power", "RO Water", "Furnished Room"].map(f => React.createElement('div', { key: f, className: "flex items-center gap-2 text-gray-400 text-sm font-bold" }, React.createElement(CheckCircle, { size: 16, className: "text-green-500" }), f))
                ),
                React.createElement('button', { onClick: () => window.location.href="upi://pay?pa=riteshs9122@ybl&pn=SafaltaExpress&am=4000&cu=INR", className: "w-full beast-btn py-6 rounded-3xl font-black text-xl" }, "PAY â‚¹4000 NOW"),
                React.createElement('p', { className: "text-gray-600 text-xs mt-6 font-bold uppercase" }, "Official UPI: riteshs9122@ybl")
            )
        );

        const Footer = () => React.createElement('footer', { id: "contact", className: "py-24 px-4 bg-black border-t border-white/5" },
            React.createElement('div', { className: "max-w-7xl mx-auto grid md:grid-cols-2 gap-12" },
                React.createElement('div', null,
                    React.createElement('h3', { className: "font-cyber text-3xl mb-8" }, "CONTACT"),
                    React.createElement('div', { className: "space-y-6" },
                        React.createElement('div', { className: "flex gap-4 items-center" }, React.createElement('div', { className: "p-4 bg-gray-900 rounded-2xl text-blue-500" }, React.createElement(MapPin)), React.createElement('div', null, React.createElement('p', { className: "font-bold text-lg" }, "Behind GD College"), React.createElement('p', { className: "text-gray-500" }, "Begusarai, Bihar"))),
                        React.createElement('div', { className: "flex gap-4 items-center" }, React.createElement('div', { className: "p-4 bg-gray-900 rounded-2xl text-green-500" }, React.createElement(Phone)), React.createElement('div', null, React.createElement('p', { className: "font-bold text-2xl" }, "9122802016"), React.createElement('p', { className: "text-gray-500" }, "8976852604"))),
                    )
                ),
                React.createElement('div', { className: "h-80 glass-morphism rounded-[3rem] overflow-hidden relative cursor-pointer", onClick: () => window.open("https://maps.google.com/?q=Behind+GD+College+Begusarai") },
                    React.createElement('img', { src: "https://images.unsplash.com/photo-1569336415962-a4bd9f69cd83?w=800", className: "w-full h-full object-cover opacity-50" }),
                    React.createElement('div', { className: "absolute inset-0 flex items-center justify-center font-bold tracking-widest" }, "OPEN MAPS")
                )
            ),
            React.createElement('div', { className: "text-center mt-20 text-gray-800 font-bold uppercase tracking-[1em] text-[10px]" }, "Safalta Express | Ritesh Kumar")
        );

        // --- DIGITAL CAMPUS (Infinite Layer) ---

        const DigitalCampus = ({ user }) => {
            const [prompt, setPrompt] = useState('');
            const [response, setResponse] = useState('');
            const [loading, setLoading] = useState(false);
            const [chatMsg, setChatMsg] = useState('');
            const [chat, setChat] = useState([]);

            const askAi = async () => {
                if(!prompt) return;
                setLoading(true);
                try {
                    const r = await fetch("https://api.groq.com/openai/v1/chat/completions", {
                        method: "POST", headers: { "Authorization": `Bearer ${GROQ_KEY}`, "Content-Type": "application/json" },
                        body: JSON.stringify({ model: "llama3-8b-8192", messages: [{role:"system", content:"You are Safalta Hostel AI Tutor."}, {role:"user", content: prompt}] })
                    });
                    const d = await r.json();
                    setResponse(d.choices[0].message.content);
                } catch(e) { setResponse("AI Busy. Try again."); }
                setLoading(false);
            };

            useEffect(() => {
                if(!user || !db) return;
                try {
                    const q = query(collection(db, 'artifacts', APP_ID, 'public', 'chat'), orderBy('ts', 'desc'), limit(20));
                    return onSnapshot(q, s => setChat(s.docs.map(d => d.data())));
                } catch(e) { console.log("Chat offline"); }
            }, [user]);

            const sendChat = async () => {
                if(!chatMsg || !db) return;
                await addDoc(collection(db, 'artifacts', APP_ID, 'public', 'chat'), {
                    u: user.displayName, t: chatMsg, ts: serverTimestamp(), i: user.photoURL
                });
                setChatMsg('');
            };

            return React.createElement('section', { className: "py-32 bg-[#020202] text-center" },
                React.createElement('div', { className: "portal-line mb-12" }),
                React.createElement('h2', { className: "font-cyber text-5xl md:text-8xl text-transparent bg-clip-text bg-gradient-to-b from-white to-black opacity-50" }, "DIGITAL", React.createElement('br'), "CAMPUS"),
                
                !user ? React.createElement('p', { className: "text-blue-500 tracking-[0.5em] font-bold uppercase mt-8 animate-pulse" }, "LOGIN TO ACCESS INFINITE FEATURES") 
                : React.createElement('div', { className: "max-w-6xl mx-auto grid md:grid-cols-2 gap-12 mt-20 px-4" },
                    // AI MODULE
                    React.createElement('div', { className: "glass-morphism p-8 rounded-[3rem] text-left" },
                        React.createElement('h3', { className: "text-2xl font-cyber mb-6 flex gap-2 items-center text-purple-400" }, React.createElement(Brain), "AI NEURAL LAB"),
                        React.createElement('div', { className: "h-64 overflow-y-auto bg-black/40 rounded-2xl p-6 text-sm text-gray-300 whitespace-pre-wrap mb-4" }, loading ? "Thinking..." : response || "Ask me anything..."),
                        React.createElement('div', { className: "flex gap-4" },
                            React.createElement('input', { value: prompt, onChange: e => setPrompt(e.target.value), placeholder: "Ask AI...", className: "flex-1 bg-white/5 rounded-xl px-4 outline-none" }),
                            React.createElement('button', { onClick: askAi, className: "bg-purple-600 p-3 rounded-xl" }, React.createElement(Send, { size: 20 }))
                        )
                    ),
                    // CHAT MODULE
                    React.createElement('div', { className: "glass-morphism p-8 rounded-[3rem] text-left" },
                        React.createElement('h3', { className: "text-2xl font-cyber mb-6 flex gap-2 items-center text-blue-400" }, React.createElement(MessageSquare), "GROUP STUDY"),
                        React.createElement('div', { className: "h-64 overflow-y-auto bg-black/40 rounded-2xl p-6 flex flex-col-reverse gap-3 mb-4 scrollbar-hide" },
                            chat.map((c, i) => React.createElement('div', { key: i, className: "bg-white/5 p-2 rounded-xl flex gap-2 items-center" },
                                React.createElement('img', { src: c.i, className: "w-6 h-6 rounded-full" }),
                                React.createElement('span', { className: "text-[10px] text-gray-400 uppercase" }, c.u),
                                React.createElement('span', { className: "text-sm" }, c.t)
                            ))
                        ),
                        React.createElement('div', { className: "flex gap-4" },
                            React.createElement('input', { value: chatMsg, onChange: e => setChatMsg(e.target.value), placeholder: "Type message...", className: "flex-1 bg-white/5 rounded-xl px-4 outline-none" }),
                            React.createElement('button', { onClick: sendChat, className: "bg-blue-600 p-3 rounded-xl" }, React.createElement(Send, { size: 20 }))
                        )
                    )
                )
            );
        };

        const FocusZone = () => React.createElement('section', { className: "py-24 px-4 bg-black text-center" },
            React.createElement('div', { className: "max-w-4xl mx-auto glass-morphism p-12 rounded-[4rem]" },
                React.createElement('h2', { className: "font-cyber text-3xl mb-8 flex justify-center items-center gap-4" }, React.createElement(Headphones, { className: "text-pink-500" }), "FOCUS ZONE"),
                React.createElement('div', { className: "grid grid-cols-3 gap-6" },
                    [{n:"Rain", i: "ðŸŒ§ï¸"}, {n:"Lofi", i: "ðŸŽµ"}, {n:"White Noise", i: "ðŸŒŠ"}].map((x, i) => React.createElement('button', { key: i, className: "bg-white/5 p-6 rounded-3xl hover:bg-pink-500/20 transition hover:scale-105" }, 
                        React.createElement('div', { className: "text-4xl mb-2" }, x.i),
                        React.createElement('p', { className: "font-bold text-xs uppercase" }, x.n)
                    ))
                )
            )
        );

        const App = () => {
            const [user, setUser] = useState(null);
            
            useEffect(() => {
                if(auth) return onAuthStateChanged(auth, setUser);
            }, []);

            const login = async () => { try { await signInWithPopup(auth, googleProvider); } catch(e){ console.error(e); } };
            const logout = async () => { await signOut(auth); };

            return React.createElement('div', { className: "min-h-screen" },
                React.createElement(Navbar, { user, login, logout }),
                React.createElement(Hero),
                React.createElement(LegacySection),
                React.createElement(FoodMenu),
                React.createElement(RoomSection),
                React.createElement(BookingSection),
                React.createElement(Footer),
                React.createElement(DigitalCampus, { user }),
                user && React.createElement(FocusZone)
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(App));
    </script>
</body>
</html>


